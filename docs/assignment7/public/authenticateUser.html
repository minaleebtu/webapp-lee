<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Minimal Web App with Plain JS and Firebase (with authentication): Authenticate</title>

    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-auth.js"></script>

    <link rel="icon" type="image/png" href="favicon.ico"/>
    <style>
        #error {
            color: #ff3300;
            text-align: right;
            padding: 1em;
            background: #fff4f4;
            border: 1px solid #ff7653;
        }
    </style>
    <script src="js/c/initialize.js"></script>
    <script src="js/v/authenticateUser.js"></script>
    <script>
        //evaluate user authentication status
        auth.onAuthStateChanged(function (user) {
            if (!user) { // if user status is unknown
                // sign in user as 'anonymous'
                auth.signInAnonymously();
            }
        });
        window.addEventListener("load", pl.v.authenticateUser.setupSignInAndSignUp);
    </script>
</head>
<body>
<header>
    <div id="error" hidden="hidden"><small></small></div>
    <h1>Welcome</h1>
</header>
<main>
    <form id="User">
        <div>
            <label>Email: <input name="email" type="email"/></label>
        </div>
        <div>
            <label>Password: <input name="password" type="password" placeholder="6+ characters"/></label>
        </div>
        <div>
            <button type="button" name="signin">Sign in</button>
            <button type="button" name="signup">Sign up</button>
        </div>
    </form>
    <p>
        <b>Sign in</b> if you have an account, or <b>sign up</b> to create an account
    </p>
</main>
<footer>
    <a href="index.html">Â« Back to main menu</a>
</footer>
</body>
</html>